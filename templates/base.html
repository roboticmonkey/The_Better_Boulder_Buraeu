<!doctype html>

<html>
    <head>
        <title>The Better Boulder Bureau</title>
        <script src="http://code.jquery.com/jquery.js"></script>
        <script src="/static/my_modal.js"></script>
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"
          rel="stylesheet">
        

         <!-- mapbox links -->
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.css' rel='stylesheet' /> 
       <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/leaflet.markercluster.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/MarkerCluster.css' rel='stylesheet' />
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/MarkerCluster.Default.css' rel='stylesheet' />
    <script>
    
    L.mapbox.accessToken = 'pk.eyJ1Ijoicm9ib3RpY21vbmtleSIsImEiOiJjaW9nZXBtajAwMWd3djFtM3Nma3FqaXB2In0.21UysS7J-Y50PVNcD0mopg'; 
    </script>

<!-- links to rateyo plugin -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.1.1/jquery.rateyo.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.1.1/jquery.rateyo.min.js"></script> 
    
    <!-- links for chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>
    <link href="/static/stylesheet.css" rel="stylesheet">
    </head>


    <body>
        <nav class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">The Better Boulder Bureau</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        {% if 'user_id' not in session %}
        <li><a href="#" class="login_modal">Login</a></li>
        <li><a href="#" class="register_modal">Register</a></li>
        
        {% endif %}
        {% if 'user_id' in session %}
                <li><a href='/user_page'>{{ session['username'] }}</a></li>
                <li><a href='/logout'>Logout</a></li>
                
        {% endif %}

        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>  

        {% with messages = get_flashed_messages() %}
        {% if messages %}
    <ul class=flashes>
        {% for message in messages %}
      <li>{{ message }}</li>
        {% endfor %}
    </ul>
    
    {% endif %}
    {% endwith %}
        

    {% block content %}ENTER SOME CONTENT{% endblock %}
        <script>
        //loading the modal box jquery code
            var login_form = '<form action="/login" method="POST">'+
                                '<label for= "field-user">Username' + 
                        '<input type="text" name="username" id="field-username">'+
                                '</label>'+
                                '<label for= "field-password">Password'+
                    '<input type="password" name="pwd" id="field-password">'+
                                '</label>'+
                            '<input type="submit">'+
                                '</form>';


            var registration_form = '<form action="/register" method="POST">'+
                                    '<label for= "field-user">Username'+ 
                        '<input type="text" name="username" id="field-username">'+
                                    '</label>'+
                                    '<label for= "field-email">Email'+ 
                                '<input type="text" name="email" id="field-email">'+
                                    '</label>'+
                                    '<label for= "field-password">Password'+
                            '<input type="password" name="pwd" id="field-password">'+
                                    '</label>'+
                                    '<input type="submit">'+
                                    '</form>';

            //creates the login modal
            $(document).ready(function(){
                $('.login_modal').my_modal_box({
                    title: "Login",
                    description: login_form,
                });
            });

            //creates the register form modal
            $(document).ready(function(){
                $('.register_modal').my_modal_box({
                    title: "Register",
                    description: registration_form,
                });
            });

        </script>
        <script type="text/javascript" src="/static/search.js"></script>
        

    </body>
</html>